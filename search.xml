<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>bpmn-js流程设计器</title>
      <link href="/posts/undefined.html"/>
      <url>/posts/undefined.html</url>
      
        <content type="html"><![CDATA[<h1 id="bpmn-流程设计器使用指南"><a href="#bpmn-流程设计器使用指南" class="headerlink" title="bpmn-流程设计器使用指南"></a>bpmn-流程设计器使用指南</h1>]]></content>
      
      
      
        <tags>
            
            <tag> bpmn-js </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo自动构建</title>
      <link href="/posts/7e7068.html"/>
      <url>/posts/7e7068.html</url>
      
        <content type="html"><![CDATA[<h2 id="hexo自动构建"><a href="#hexo自动构建" class="headerlink" title="hexo自动构建"></a>hexo自动构建</h2><h3 id="1-需求描述："><a href="#1-需求描述：" class="headerlink" title="1.需求描述："></a>1.需求描述：</h3><p>构建工具一堆，vercel也能构建，但是我服务器有国内的，我希望自己部署在自己服务器上，自动构建比较难，所以用github action生成静态后，由服务器通过git拉取。如果嫌弃github慢。可以试试的方法，不建议用gitee。</p><h3 id="2-整体描述"><a href="#2-整体描述" class="headerlink" title="2.整体描述:"></a>2.整体描述:</h3><p>Github action负责生成静态代码，并执行curl 的post请求指定服务器的接口，服务器接受请求后拉取静态文件。</p><p>或者直接Github action发送curl 的post请求指定服务器的接口，然后服务器通过源码自己构建（不建议）</p><h3 id="3-Github-action-自动构建"><a href="#3-Github-action-自动构建" class="headerlink" title="3.Github action 自动构建"></a>3.Github action 自动构建</h3><h3 id="4-服务器post请求文件"><a href="#4-服务器post请求文件" class="headerlink" title="4.服务器post请求文件"></a>4.服务器post请求文件</h3><h4 id="4-1-php版本"><a href="#4-1-php版本" class="headerlink" title="4.1 php版本"></a>4.1 php版本</h4><p>服务器post请求文件(php消耗少，暂定。虽然java一个方法就解决了，但是为了这一个方法不合适)</p><h4 id="4-2-java版本"><a href="#4-2-java版本" class="headerlink" title="4.2 java版本"></a>4.2 java版本</h4><h3 id="5-在线文档编写"><a href="#5-在线文档编写" class="headerlink" title="5.在线文档编写"></a>5.在线文档编写</h3><p>建议使用:   <a href="https://hexoplusplus.js.org/">hexoplusplus</a></p><p>好好看看文配置有点多: <a href="https://hexoplusplus.js.org/start/">官方文档</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker笔记</title>
      <link href="/posts/4417b09c.html"/>
      <url>/posts/4417b09c.html</url>
      
        <content type="html"><![CDATA[<h1 id="Centos7-安装docker"><a href="#Centos7-安装docker" class="headerlink" title="Centos7 安装docker"></a>Centos7 安装docker</h1><ul><li><h2 id="卸载旧版本"><a href="#卸载旧版本" class="headerlink" title="卸载旧版本"></a>卸载旧版本</h2></li><li><p>旧版本的 Docker 称为 <code>docker</code> 或者 <code>docker-engine</code>，使用以下命令卸载旧版本：</p></li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-13-centos ~]#  sudo yum remove docker \</span><br><span class="line">                  docker-client \</span><br><span class="line">                  docker-client-latest \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-latest \</span><br><span class="line">                  docker-latest-logrotate \</span><br><span class="line">                  docker-logrotate \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine-selinux \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><ul><li>使用 yum 安装</li></ul><p>执行以下命令安装依赖包：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-13-centos ~]#  sudo yum install -y yum-utils</span><br></pre></td></tr></table></figure><p>安装</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-13-centos ~]# sudo yum-config-manager \</span><br><span class="line">    --add-repo \</span><br><span class="line">    https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">[root@VM-16-13-centos ~]# sudo sed -i &#x27;s/download.docker.com/mirrors.aliyun.com\/docker-ce/g&#x27; /etc/yum.repos.d/docker-ce.repo</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment"># 注意可能会有安装完 没有/etc/docker/daemon.json的情况</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">官方源</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">$ sudo yum-config-manager \</span></span><br><span class="line"><span class="language-bash"><span class="comment">#     --add-repo \</span></span></span><br><span class="line"><span class="language-bash"><span class="comment">#     https://download.docker.com/linux/centos/docker-ce.repo</span></span></span><br></pre></td></tr></table></figure><ul><li><p>更新 <code>yum</code> 软件源缓存，并安装 <code>docker-ce</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-13-centos ~]# sudo yum install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure></li></ul><h2 id="Centos7-手动安装遇到问题："><a href="#Centos7-手动安装遇到问题：" class="headerlink" title="Centos7 手动安装遇到问题："></a>Centos7 手动安装遇到问题：</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docker daemon running?</span><br></pre></td></tr></table></figure><ul><li>解决方法</li></ul><p>进入 /etc/docker，没有daemon.json文件就自己新建一个：</p><figure class="highlight shell"><figcaption><span>l</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-13-centos ~]# cd /etc/docker</span><br><span class="line">[root@VM-16-13-centos docker]# ls   ## 注意用别的方法安装的 这个地方也可能没有daemon.json</span><br><span class="line">key.json daemon.json</span><br></pre></td></tr></table></figure><ul><li>编辑daemon.json文件：地址替换为自己想用的 建议用国内镜像</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line"> &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>重启docker</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl restart docker.service</span><br></pre></td></tr></table></figure><h2 id="脚本安装"><a href="#脚本安装" class="headerlink" title="脚本安装"></a>脚本安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">##### centos7脚本安装 docker</span></span></span><br><span class="line">[root@VM-16-13-centos ~]# curl -fsSL get.docker.com -o get-docker.sh  #安装 脚本</span><br><span class="line">[root@VM-16-13-centos ~]# sudo sh get-docker.sh --mirror Aliyun       #使用阿里云镜像</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Executing docker install script, commit: 93d2499759296ac1f9c510605fef85052a2c32be</span></span><br><span class="line">+ sh -c &#x27;yum install -y -q yum-utils&#x27;</span><br><span class="line">Package yum-utils-1.1.31-54.el7_8.noarch already installed and latest version</span><br><span class="line">+ sh -c &#x27;yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo&#x27;</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">adding repo from: https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br><span class="line">grabbing file https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo to /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">repo saved to /etc/yum.repos.d/docker-ce.repo</span><br><span class="line">+ &#x27;[&#x27; stable &#x27;!=&#x27; stable &#x27;]&#x27;</span><br><span class="line">+ sh -c &#x27;yum makecache&#x27;</span><br><span class="line">Loaded plugins: fastestmirror, langpacks</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line">docker-ce-stable                                                                                    | 3.5 kB  00:00:00     </span><br><span class="line">epel                                                                                                | 4.7 kB  00:00:00     </span><br><span class="line">extras                                                                                              | 2.9 kB  00:00:00     </span><br><span class="line">os                                                                                                  | 3.6 kB  00:00:00     </span><br><span class="line">updates                                                                                             | 2.9 kB  00:00:00     </span><br><span class="line">(1/13): docker-ce-stable/7/x86_64/updateinfo                                                        |   55 B  00:00:00     </span><br><span class="line">(2/13): docker-ce-stable/7/x86_64/primary_db                                                        |  75 kB  00:00:00     </span><br><span class="line">(3/13): docker-ce-stable/7/x86_64/filelists_db                                                      |  31 kB  00:00:00     </span><br><span class="line">(4/13): docker-ce-stable/7/x86_64/other_db                                                          | 123 kB  00:00:00     </span><br><span class="line">(5/13): epel/7/x86_64/prestodelta                                                                   | 4.5 kB  00:00:00     </span><br><span class="line">(6/13): extras/7/x86_64/filelists_db                                                                | 277 kB  00:00:00     </span><br><span class="line">(7/13): extras/7/x86_64/other_db                                                                    | 147 kB  00:00:00     </span><br><span class="line">(8/13): epel/7/x86_64/other_db                                                                      | 3.4 MB  00:00:00     </span><br><span class="line">(9/13): os/7/x86_64/filelists_db                                                                    | 7.2 MB  00:00:00     </span><br><span class="line">(10/13): os/7/x86_64/other_db                                                                       | 2.6 MB  00:00:00     </span><br><span class="line">(11/13): updates/7/x86_64/other_db                                                                  | 1.0 MB  00:00:00     </span><br><span class="line">(12/13): updates/7/x86_64/filelists_db                                                              | 7.8 MB  00:00:00     </span><br><span class="line">(13/13): epel/7/x86_64/filelists_db                                                                 |  12 MB  00:00:01     </span><br><span class="line">Metadata Cache Created</span><br><span class="line">+ &#x27;[&#x27; -n &#x27;&#x27; &#x27;]&#x27;</span><br><span class="line">+ sh -c &#x27;yum install -y -q docker-ce&#x27;</span><br><span class="line">warning: /var/cache/yum/x86_64/7/docker-ce-stable/packages/docker-ce-20.10.14-3.el7.x86_64.rpm: Header V4 RSA/SHA512 Signature, key ID 621e9f35: NOKEY</span><br><span class="line">Public key for docker-ce-20.10.14-3.el7.x86_64.rpm is not installed</span><br><span class="line">Importing GPG key 0x621E9F35:</span><br><span class="line"> Userid     : &quot;Docker Release (CE rpm) &lt;docker@docker.com&gt;&quot;</span><br><span class="line"> Fingerprint: 060a 61c5 1b55 8a7f 742b 77aa c52f eb6b 621e 9f35</span><br><span class="line"> From       : https://mirrors.aliyun.com/docker-ce/linux/centos/gpg</span><br><span class="line">Warning: RPMDB altered outside of yum.</span><br><span class="line">setsebool:  SELinux is disabled.</span><br><span class="line">+ version_gte 20.10</span><br><span class="line">+ &#x27;[&#x27; -z &#x27;&#x27; &#x27;]&#x27;</span><br><span class="line">+ return 0</span><br><span class="line">+ sh -c &#x27;yum install -y -q docker-ce-rootless-extras&#x27;</span><br><span class="line">Package docker-ce-rootless-extras-20.10.14-3.el7.x86_64 already installed and latest version</span><br><span class="line"></span><br><span class="line">================================================================================</span><br><span class="line"></span><br><span class="line">To run Docker as a non-privileged user, consider setting up the</span><br><span class="line">Docker daemon in rootless mode for your user:</span><br><span class="line"></span><br><span class="line">    dockerd-rootless-setuptool.sh install</span><br><span class="line"></span><br><span class="line">Visit https://docs.docker.com/go/rootless/ to learn about rootless mode.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">To run the Docker daemon as a fully privileged service, but granting non-root</span><br><span class="line">users access, refer to https://docs.docker.com/go/daemon-access/</span><br><span class="line"></span><br><span class="line">WARNING: Access to the remote API on a privileged Docker daemon is equivalent</span><br><span class="line">         to root access on the host. Refer to the &#x27;Docker daemon attack surface&#x27;</span><br><span class="line">         documentation for details: https://docs.docker.com/go/attack-surface/</span><br><span class="line"></span><br><span class="line">================================================================================</span><br></pre></td></tr></table></figure><h2 id="常见操作"><a href="#常见操作" class="headerlink" title="常见操作"></a>常见操作</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-13-centos ~]# systemctl enable docker   #启动docker</span><br><span class="line">Created symlink from /etc/systemd/system/multi-user.target.wants/docker.service to /usr/lib/systemd/system/docker.service.</span><br><span class="line">[root@VM-16-13-centos ~]# systemctl start docker   #启动docker</span><br><span class="line">[root@VM-16-13-centos ~]# docker pull hello-world  #从 Docker 镜像仓库获取镜像</span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/hello-world</span><br><span class="line">2db29710123e: Pull complete </span><br><span class="line">Digest: sha256:bfea6278a0a267fad2634554f4f0c6f31981eea41c553fdf5a83e95a41d40c38</span><br><span class="line">Status: Downloaded newer image for hello-world:latest</span><br><span class="line">docker.io/library/hello-world:latest</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls    #列出镜像</span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">hello-world   latest    feb5d9fea6a5   6 months ago   13.3kB</span><br><span class="line">[root@VM-16-13-centos ~]# docker system df   #查看镜像、容器、数据卷所占用的空间。</span><br><span class="line">TYPE            TOTAL     ACTIVE    SIZE      RECLAIMABLE</span><br><span class="line">Images          1         0         13.26kB   13.26kB (100%)</span><br><span class="line">Containers      0         0         0B        0B</span><br><span class="line">Local Volumes   0         0         0B        0B</span><br><span class="line">Build Cache     0         0         0B        0B</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls -f dangling=true   #查看虚悬镜像</span><br><span class="line">REPOSITORY   TAG       IMAGE ID   CREATED   SIZE</span><br><span class="line">[root@VM-16-13-centos ~]# docker image prune                 #删除虚悬镜像</span><br><span class="line">WARNING! This will remove all dangling images.</span><br><span class="line">Are you sure you want to continue? [y/N] y</span><br><span class="line">Total reclaimed space: 0B</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">### 再顺便多拉两个镜像</span></span></span><br><span class="line">[root@VM-16-13-centos ~]# docker pull nginx</span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/nginx</span><br><span class="line">c229119241af: Pull complete </span><br><span class="line">2215908dc0a2: Pull complete </span><br><span class="line">08c3cb2073f1: Pull complete </span><br><span class="line">18f38162c0ce: Pull complete </span><br><span class="line">10e2168f148a: Pull complete </span><br><span class="line">c4ffe9532b5f: Pull complete </span><br><span class="line">Digest: sha256:2275af0f20d71b293916f1958f8497f987b8d8fd8113df54635f2a5915002bf1</span><br><span class="line">Status: Downloaded newer image for nginx:latest</span><br><span class="line">docker.io/library/nginx:latest</span><br><span class="line">[root@VM-16-13-centos ~]# docker pull redis</span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/redis</span><br><span class="line">c229119241af: Already exists </span><br><span class="line">bed41eb8190a: Pull complete </span><br><span class="line">5e59eaa723f1: Pull complete </span><br><span class="line">fd5ad7669819: Pull complete </span><br><span class="line">566c064eef6e: Pull complete </span><br><span class="line">20c7cfac25de: Pull complete </span><br><span class="line">Digest: sha256:69a3ab2516b560690e37197b71bc61ba245aafe4525ebdece1d8a0bc5669e3e2</span><br><span class="line">Status: Downloaded newer image for redis:latest</span><br><span class="line">docker.io/library/redis:latest</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls -a   #-a 显示 中间层镜像</span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">redis         latest    bba24acba395   8 days ago     113MB</span><br><span class="line">nginx         latest    12766a6745ee   8 days ago     142MB</span><br><span class="line">hello-world   latest    feb5d9fea6a5   6 months ago   13.3kB</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls hello   #列出部分镜像 要不写出全称 要不 用通配符</span><br><span class="line">REPOSITORY   TAG       IMAGE ID   CREATED   SIZE</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls hello*  # 通配符</span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED        SIZE</span><br><span class="line">hello-world   latest    feb5d9fea6a5   6 months ago   13.3kB</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls -q    #以特定格式显示</span><br><span class="line">bba24acba395</span><br><span class="line">12766a6745ee</span><br><span class="line">feb5d9fea6a5</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls --format &quot;&#123;&#123;.ID&#125;&#125;: &#123;&#123;.Repository&#125;&#125;&quot;</span><br><span class="line">bba24acba395: redis</span><br><span class="line">12766a6745ee: nginx</span><br><span class="line">feb5d9fea6a5: hello-world</span><br><span class="line">[root@VM-16-13-centos ~]# docker image ls --format &quot;table &#123;&#123;.ID&#125;&#125;\t&#123;&#123;.Repository&#125;&#125;\t&#123;&#123;.Tag&#125;&#125;&quot;</span><br><span class="line">IMAGE ID       REPOSITORY    TAG</span><br><span class="line">bba24acba395   redis         latest</span><br><span class="line">12766a6745ee   nginx         latest</span><br><span class="line">feb5d9fea6a5   hello-world   latest</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker挂载文件自动创建目录而非文件问题</title>
      <link href="/posts/3171def0.html"/>
      <url>/posts/3171def0.html</url>
      
        <content type="html"><![CDATA[<h1 id="docker挂载文件自动创建目录而非文件问题"><a href="#docker挂载文件自动创建目录而非文件问题" class="headerlink" title="docker挂载文件自动创建目录而非文件问题"></a>docker挂载文件自动创建目录而非文件问题</h1><h4 id="环境-centos7"><a href="#环境-centos7" class="headerlink" title="环境:centos7"></a>环境:centos7</h4><h4 id="安装frps"><a href="#安装frps" class="headerlink" title="安装frps"></a>安装frps</h4><h4 id="yun-update-无法解决"><a href="#yun-update-无法解决" class="headerlink" title="yun update 无法解决"></a>yun update 无法解决</h4><p>可以手动创建文件</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker pull snowdreamtech/frps</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">====start frps</span>  </span><br><span class="line">mkdir -p /volumes/etc/frp/</span><br><span class="line">cd /volumes/etc/frp/</span><br><span class="line">touch frps.ini  #不要让docker 挂载的时候创建否则默认创建的是目录而非文件</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#######显示这个问题</span></span></span><br><span class="line">docker: Error response from daemon: failed to create shim: OCI runtime create failed: container_linux.go:380: starting container process caused: process_linux.go:545: container init caused: rootfs_linux.go:75: mounting &quot;/volumes/etc/frp/frps.ini&quot; to rootfs at &quot;/etc/frp/frps.ini&quot; caused: mount through procfd: not a directory: unknown: Are you trying to mount a directory onto a file (or vice-versa)? Check if the specified host path exists and is the expected type.</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">##########</span></span></span><br><span class="line">docker run --restart=always --network host -d -v /volumes/etc/frp/frps.ini:/etc/frp/frps.ini --name frps snowdreamtech/frps</span><br><span class="line">确认查看容器对应的文件内容：</span><br><span class="line">subdomain_host = nas.runrab.com</span><br><span class="line">docker exec -it busybox cat /tmp/text.txt</span><br></pre></td></tr></table></figure><p>直接先不挂载容器 然后将需要的东西从容器中cp出来<br>然后再挂载</p><p>解决安装错误方法</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-16-4-centos frp]# docker run --restart=always --network host -d -v /volumes/etc/frp/frps.ini:/etc/frp/frps.ini --name frps snowdreamtech/frps</span><br><span class="line">[root@VM-16-4-centos frp]# docker ps -a</span><br><span class="line">CONTAINER ID   IMAGE                COMMAND                  CREATED         STATUS    PORTS     NAMES</span><br><span class="line">c5a4f77b3bf5   snowdreamtech/frps   &quot;/bin/sh -c &#x27;/usr/bi…&quot;   5 minutes ago   Created             frps</span><br><span class="line">[root@VM-16-4-centos frp]# docker container ls</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line">[root@VM-16-4-centos frp]# docker rm c23400eeec94</span><br><span class="line">c23400eeec94</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>npm无法加载文件xx 因为在此系统上禁止运行脚本</title>
      <link href="/posts/8c6868be.html"/>
      <url>/posts/8c6868be.html</url>
      
        <content type="html"><![CDATA[<h2 id="一、npm-无法加载文件-你的nodejs路径-npm-ps1，因为在此系统上禁止运行脚本。"><a href="#一、npm-无法加载文件-你的nodejs路径-npm-ps1，因为在此系统上禁止运行脚本。" class="headerlink" title="一、npm : 无法加载文件 (你的nodejs路径)\npm.ps1，因为在此系统上禁止运行脚本。"></a>一、npm : 无法加载文件 (你的nodejs路径)\npm.ps1，因为在此系统上禁止运行脚本。</h2><p>我遇到的是webstorm 的npm 命令行经常无法运行npm install<br>二、因为在此系统上禁止运行脚本</p><ol><li>get-ExecutionPolicy 查看权限</li><li>输出：Restricted ：受限制的  </li><li>Restricted 表示状态是禁止的，那就给个权限：  Set-ExecutionPolicy -Scope CurrentUser</li><li>输入：RemoteSigned</li><li>验证一下：get-ExecutionPolicy    显示：RemoteSigned 就可以了</li><li>get-ExecutionPolicy<br>显示：RemoteSigned 就可以了</li><li>运行 npm run install 可以执行</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> node </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pixiv代理</title>
      <link href="/posts/df1b4fb9.html"/>
      <url>/posts/df1b4fb9.html</url>
      
        <content type="html"><![CDATA[<h1 id="pixiv代理"><a href="#pixiv代理" class="headerlink" title="pixiv代理"></a>pixiv代理</h1><h2 id="cloudfare-代理"><a href="#cloudfare-代理" class="headerlink" title="cloudfare 代理"></a>cloudfare 代理</h2><p>地址：https://<strong>i.pximg.net</strong>替换为 <a href="https://pixiv.runrab.workers.dev/">https://pixiv.runrab.workers.dev</a></p><p>例如 https://<strong>i.pximg.net</strong>/img-original/img/2020/06/05/00/00/07/82092623_p0.jpg</p><p>换成</p><p><img src="https://pixiv.runrab.workers.dev/img-original/img/2020/06/05/00/00/07/82092623_p0.jpg" alt="demo"></p><p>也可以用 <a href="https://i.pixiv.cat/img-original/img/2020/06/05/00/00/07/82092623_p0.jpg">https://i.pixiv.cat/img-original/img/2020/06/05/00/00/07/82092623_p0.jpg</a></p><p>来自：<a href="https://pixiv.cat/reverseproxy.html">https://pixiv.cat/reverseproxy.html</a></p><p>nginx 代理：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">proxy_cache_path /path/to/cache levels=1:2 keys_zone=pximg:10m max_size=10g inactive=7d use_temp_path=off;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen 443 ssl http2;</span><br><span class="line"></span><br><span class="line">    ssl_certificate /path/to/ssl_certificate.crt;</span><br><span class="line">    ssl_certificate_key /path/to/ssl_certificate.key;</span><br><span class="line"></span><br><span class="line">    server_name i.pixiv.cat;</span><br><span class="line">    access_log off;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">    proxy_cache pximg;</span><br><span class="line">    proxy_pass https://i.pximg.net;</span><br><span class="line">    proxy_cache_revalidate on;</span><br><span class="line">    proxy_cache_use_stale error timeout updating http_500 http_502 http_503 http_504;</span><br><span class="line">    proxy_cache_lock on;</span><br><span class="line">    add_header X-Cache-Status $upstream_cache_status;</span><br><span class="line">    proxy_set_header Host i.pximg.net;</span><br><span class="line">    proxy_set_header Referer &quot;https://www.pixiv.net/&quot;;</span><br><span class="line"></span><br><span class="line">    proxy_cache_valid 200 7d;</span><br><span class="line">    proxy_cache_valid 404 5m;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>cf代理设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">addEventListener(&quot;fetch&quot;, event =&gt; &#123;</span><br><span class="line">  let url = new URL(event.request.url);</span><br><span class="line">  url.hostname = &quot;i.pximg.net&quot;;</span><br><span class="line"></span><br><span class="line">  let request = new Request(url, event.request);</span><br><span class="line">  event.respondWith(</span><br><span class="line">    fetch(request, &#123;</span><br><span class="line">      headers: &#123;</span><br><span class="line">        &#x27;Referer&#x27;: &#x27;https://www.pixiv.net/&#x27;,</span><br><span class="line">        &#x27;User-Agent&#x27;: &#x27;Cloudflare Workers&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>python裁剪图片</title>
      <link href="/posts/dbc0c148.html"/>
      <url>/posts/dbc0c148.html</url>
      
        <content type="html"><![CDATA[<h1 id="Python裁剪图片"><a href="#Python裁剪图片" class="headerlink" title="Python裁剪图片"></a>Python裁剪图片</h1><h2 id="个人适用版本"><a href="#个人适用版本" class="headerlink" title="个人适用版本"></a>个人适用版本</h2><p><strong>800x400 裁剪后符合大小</strong></p><p><strong>1920x400 裁剪后符合比例</strong></p><p><strong>配合imgbot 自动压缩无需处理压缩</strong></p><p><strong>cdn by jsdeliver</strong> </p><h4 id="待实现链接自动注入到文章"><a href="#待实现链接自动注入到文章" class="headerlink" title="待实现链接自动注入到文章"></a><strong>待实现链接自动注入到文章</strong></h4><p>链接url 分别放在 max.txt mid.txt min.txt</p><p>文件夹 max（原图） mid（比例为1920x400）  min（大小为800x400）</p><p>代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="comment"># Mpath = os.getcwd()</span></span><br><span class="line"><span class="comment"># print(Mpath)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 原来文件夹</span></span><br><span class="line">source_dirs = <span class="string">&#x27;./max&#x27;</span></span><br><span class="line"><span class="comment"># 目标文件夹</span></span><br><span class="line">target_dirs = <span class="string">&#x27;./mid&#x27;</span></span><br><span class="line"><span class="comment"># 目标文件夹2</span></span><br><span class="line">target_dirs2 = <span class="string">&#x27;./min&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 得到图片的链接</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getListFiles</span>(<span class="params">path</span>):</span><br><span class="line">    <span class="keyword">assert</span> os.path.isdir(path), <span class="string">&#x27;%s not exist.&#x27;</span> % path</span><br><span class="line">    ret = []</span><br><span class="line">    <span class="comment"># 已经有的文件夹</span></span><br><span class="line">    has_dirs = []</span><br><span class="line">    <span class="comment"># 目录创建</span></span><br><span class="line">    <span class="comment"># 暂时有一个文件夹下多文件 读取问题没 解决 dirs files均为列表  已经解决</span></span><br><span class="line">    <span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(path):</span><br><span class="line">        <span class="comment"># print(&#x27;%s, %s, %s&#x27; % (root, dirs, files))</span></span><br><span class="line">        <span class="comment"># print(&#x27;%s, %s&#x27; % (dirs,files))</span></span><br><span class="line">        s = <span class="string">&#x27;&#x27;</span>.join(root) + <span class="string">&#x27;/&#x27;</span> + <span class="string">&#x27;&#x27;</span>.join(dirs)</span><br><span class="line">        <span class="keyword">if</span> s <span class="keyword">not</span> <span class="keyword">in</span> has_dirs:</span><br><span class="line">            has_dirs.append(s)</span><br><span class="line">        <span class="keyword">if</span> path == source_dirs:</span><br><span class="line">            create_dirs(has_dirs)</span><br><span class="line">        <span class="keyword">for</span> filesPath <span class="keyword">in</span> files:</span><br><span class="line">            ret.append(os.path.join(root, filesPath))</span><br><span class="line">    <span class="comment"># print(ret)</span></span><br><span class="line">    <span class="keyword">return</span> ret</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建不存在文件夹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">create_dirs</span>(<span class="params">has_dirs</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> has_dirs:</span><br><span class="line">        i = i.replace(source_dirs, target_dirs)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(i):</span><br><span class="line">            os.makedirs(i)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> has_dirs:</span><br><span class="line">        i = i.replace(source_dirs, target_dirs2)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(i):</span><br><span class="line">            os.makedirs(i)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 缩放</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">scale</span>(<span class="params">i</span>):</span><br><span class="line">    img = Image.<span class="built_in">open</span>(<span class="string">&#x27;&#x27;</span> + i)</span><br><span class="line">    <span class="comment"># 目标地址</span></span><br><span class="line">    bb = i.replace(source_dirs, target_dirs2)</span><br><span class="line">    bb = bb.replace(<span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">    width, height = img.size</span><br><span class="line">    w_s = <span class="built_in">int</span>(width / (width / <span class="number">800</span>))  <span class="comment"># 长宽缩小两倍</span></span><br><span class="line">    h_s = <span class="built_in">int</span>(height / (height / <span class="number">400</span>))  <span class="comment"># 长宽缩小两倍</span></span><br><span class="line">    img = img.resize((w_s, h_s), Image.ANTIALIAS)</span><br><span class="line">    blank = (w_s - h_s) / <span class="number">2</span></span><br><span class="line">    <span class="comment"># region = img.crop((0, -blank, w_s, w_s - blank))</span></span><br><span class="line">    region = img.crop((<span class="number">0</span>, <span class="number">0</span>, w_s, h_s))</span><br><span class="line">    region.save(bb)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 裁剪</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">resize</span>(<span class="params">i</span>):</span><br><span class="line">    img = Image.<span class="built_in">open</span>(<span class="string">&#x27;&#x27;</span> + i)</span><br><span class="line">    <span class="comment"># 目标地址</span></span><br><span class="line">    bb = i.replace(source_dirs, target_dirs)</span><br><span class="line">    bb = bb.replace(<span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">    width, height = img.size</span><br><span class="line">    he = (width * <span class="number">400</span>) / <span class="number">1920</span></span><br><span class="line">    wi = (height - he) / <span class="number">2</span></span><br><span class="line">    <span class="comment"># print(he)</span></span><br><span class="line">    <span class="comment"># print(width,height)</span></span><br><span class="line">    <span class="comment"># 前两个坐标点是左上角坐标</span></span><br><span class="line">    <span class="comment"># 后两个坐标点是右下角坐标</span></span><br><span class="line">    <span class="comment"># width在前， height在后</span></span><br><span class="line">    box = (<span class="number">0</span>, wi, width, he + wi)</span><br><span class="line">    region = img.crop(box)</span><br><span class="line">    <span class="comment"># cc=bb.replace(&#x27;\\&#x27;,&#x27;&#x27;)</span></span><br><span class="line">    <span class="comment"># if os.path.exists(cc):</span></span><br><span class="line">    <span class="comment"># os.makedirs(cc)</span></span><br><span class="line">    <span class="comment"># 因为保存裁剪后的文件要求文件夹要存在故单独处理</span></span><br><span class="line">    region.save(bb)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拼接为链接</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">join_url</span>(<span class="params">utl_txt, lst</span>):</span><br><span class="line">    file = utl_txt</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> lst:</span><br><span class="line">        i = i.replace(<span class="string">&#x27;./&#x27;</span>, <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">        i = i.replace(<span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">        i1 = i.replace(<span class="string">&#x27;max&#x27;</span>, <span class="string">&#x27;mid&#x27;</span>)</span><br><span class="line">        i2 = i.replace(<span class="string">&#x27;max&#x27;</span>, <span class="string">&#x27;min&#x27;</span>)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&#x27;a+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(file, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f1:</span><br><span class="line">                url = <span class="string">&#x27;https://cdn.jsdelivr.net/gh/runrab/cdn2@master/img&#x27;</span> + i + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">                <span class="keyword">if</span> url <span class="keyword">not</span> <span class="keyword">in</span> f1.readlines():</span><br><span class="line">                    f.write(url)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;mid.txt&quot;</span>, <span class="string">&#x27;a+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;mid.txt&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f1:</span><br><span class="line">                url = <span class="string">&#x27;https://cdn.jsdelivr.net/gh/runrab/cdn2@master/img&#x27;</span> + i2 + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">                <span class="keyword">if</span> url <span class="keyword">not</span> <span class="keyword">in</span> f1.readlines():</span><br><span class="line">                    f.write(url)</span><br><span class="line">        <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;min.txt&quot;</span>, <span class="string">&#x27;a+&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">            <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;min.txt&quot;</span>, <span class="string">&#x27;r&#x27;</span>) <span class="keyword">as</span> f1:</span><br><span class="line">                url = <span class="string">&#x27;https://cdn.jsdelivr.net/gh/runrab/cdn2@master/img&#x27;</span> + i2 + <span class="string">&#x27;\n&#x27;</span></span><br><span class="line">                <span class="keyword">if</span> url <span class="keyword">not</span> <span class="keyword">in</span> f1.readlines():</span><br><span class="line">                    f.write(url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 处理</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">declImg</span>():</span><br><span class="line">    a = getListFiles(source_dirs)</span><br><span class="line">    b = getListFiles(target_dirs)</span><br><span class="line">    c = getListFiles(target_dirs2)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> a:</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> b:</span><br><span class="line">            b.append(i)</span><br><span class="line">            resize(i)</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> c:</span><br><span class="line">            c.append(i)</span><br><span class="line">            scale(i)</span><br><span class="line">    join_url(<span class="string">r&quot;max.txt&quot;</span>, a)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">declImg()</span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">#导出requirements.txt</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>主题修改</title>
      <link href="/posts/b9cbbea9.html"/>
      <url>/posts/b9cbbea9.html</url>
      
        <content type="html"><![CDATA[<h2 id="Butterfly-主题美化日记"><a href="#Butterfly-主题美化日记" class="headerlink" title="Butterfly 主题美化日记"></a>Butterfly 主题美化日记</h2><p><a href="https://akilar.top/posts/f99b208/">https://akilar.top/posts/f99b208/</a></p><h3 id="Butterfly主题版权美化"><a href="#Butterfly主题版权美化" class="headerlink" title="Butterfly主题版权美化"></a>Butterfly主题版权美化</h3><p><a href="https://akilar.top/posts/8322f8e6/">https://akilar.top/posts/8322f8e6/</a></p><h3 id="基于-Butterfly-的外挂标签引入"><a href="#基于-Butterfly-的外挂标签引入" class="headerlink" title="基于 Butterfly 的外挂标签引入"></a>基于 Butterfly 的外挂标签引入</h3><p><a href="https://akilar.top/posts/615e2dec/">https://akilar.top/posts/615e2dec/</a></p><h2 id="安装插件类"><a href="#安装插件类" class="headerlink" title="安装插件类"></a>安装插件类</h2><h3 id="添加-Github-徽标"><a href="#添加-Github-徽标" class="headerlink" title="添加 Github 徽标"></a>添加 Github 徽标</h3><p><a href="https://akilar.top/posts/e87ad7f8/">https://akilar.top/posts/e87ad7f8/</a></p><h3 id="原生JS实现页脚计时器"><a href="#原生JS实现页脚计时器" class="headerlink" title="原生JS实现页脚计时器"></a>原生JS实现页脚计时器</h3><p><a href="https://akilar.top/posts/b941af/">https://akilar.top/posts/b941af/</a></p><h3 id="留言板动态弹出信封样式"><a href="#留言板动态弹出信封样式" class="headerlink" title="留言板动态弹出信封样式"></a>留言板动态弹出信封样式</h3><p><a href="https://akilar.top/posts/e2d3c450/">https://akilar.top/posts/e2d3c450/</a></p><h3 id="gitcalendar"><a href="#gitcalendar" class="headerlink" title="gitcalendar"></a>gitcalendar</h3><p><a href="https://akilar.top/posts/1f9c68c9/">https://akilar.top/posts/1f9c68c9/</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
